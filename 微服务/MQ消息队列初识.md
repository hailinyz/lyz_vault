
## 同步调用

优势：
+ 时效性强， 等待结果后才返回
问题：
+ 扩展性差
+ 性能下降
+ 级联失败（雪崩）
![](assets/MQ消息队列初识/file-20251128210332534.png)

## 异步调用

优势：
+ 解除耦合，扩展性强
+ 无需等待，性能好
+ 故障隔离
+ 缓存消息，流量削峰填谷
问题：
+ 不能立即得到调用结果，可能都得不到结果，时效性差
+ 不能确定下游业务执行是否成功
+ 业务安全依赖于**Broker（消息代理）** 的可靠性
![](assets/MQ消息队列初识/file-20251128210332550.png)

## MQ技术

RabbitMQ消息队列是用来做消息收发的。

| 对比项     | RabbitMQ                | ActiveMQ                      | RocketMQ | Kafka      |
| ------- | ----------------------- | ----------------------------- | -------- | ---------- |
| 公司 / 社区 | Rabbit                  | Apache                        | 阿里       | Apache     |
| 开发语言    | Erlang                  | Java                          | Java     | Scala&Java |
| 协议支持    | AMQP, XMPP, SMTP, STOMP | OpenWire,STOMP,REST,XMPP,AMQP | 自定义协议    | 自定义协议      |
| 可用性     | 高                       | 一般                            | 高        | 高          |
| 单机吞吐量   | 一般                      | 差                             | 高        | 非常高        |
| 消息延迟    | 微秒级                     | 毫秒级                           | 毫秒级      | 毫秒以内       |
| 消息可靠性   | 高                       | 一般                            | 高        | 一般         |

